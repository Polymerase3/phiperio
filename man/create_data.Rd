% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data-class.R
\name{create_data}
\alias{create_data}
\title{Construct a \strong{phip_data} object}
\usage{
create_data(
  data_long,
  peptide_library = TRUE,
  auto_expand = TRUE,
  materialise_table = TRUE,
  meta = list()
)
}
\arguments{
\item{data_long}{A tidy data frame (or \code{tbl_lazy}) with one row per
\code{peptide_id} x \code{sample_id} combination. \strong{Required.}}

\item{peptide_library}{A data frame with one row per \code{peptide_id}
and its annotations.  If \code{NULL}, the packageâ€™s current default
library is used.}

\item{auto_expand}{Logical. If \code{TRUE} and the input is \strong{not} already the
full Cartesian product of \code{sample_id} x \code{peptide_id}, the function fills in
the missing combinations.
\itemize{
\item Columns that are constant within a \code{sample_id} (metadata) are duplicated
to the newly created rows.
\item Measurement columns such as \code{fold_change}, \code{exist}, raw counts, or any
other non-recyclable fields are initialised to 0.
The expanded table replaces \code{data_long} in place.
}}

\item{materialise_table}{Logical. If \code{FALSE} (default) the result is
registered as a \strong{view}. If \code{TRUE} the result is fully \strong{materialised}
and stored as a physical table, which speeds up repeated queries at the
cost of extra memory/disk.}

\item{meta}{Optional named list of metadata flags to pre-populate the
\code{meta} slot (rarely needed by users).}
}
\value{
An object of class \code{"phip_data"}.
}
\description{
Creates a fully-validated S3 object that bundles the tidy
PhIP-Seq counts (\code{data_long}), a peptide-library annotation table, and
other metadata. The data itself is validated via \code{validate_phip_data()}.
}
\examples{
\dontrun{
## minimal constructor call
pd <- create_data(
  data_long = tidy_counts,
  peptide_library = TRUE
)
}

}
